#! /usr/bin/env bash

# Print an error message and exit.
panic()
{
	echo "ERROR: $@"
	exit 1
}

# Get the directory in which the currently running script is located.
cmd_dir=$(dirname "$0") || panic "cannot determine command directory"

main_program="$cmd_dir/main"
rand_program="$cmd_dir/random_graph_generator"

echo "Running random graph generator"
$rand_program "$cmd_dir/random_input_graph.txt" || panic "random graph generator program failed"

echo "Running main program 1 - user random generated input file"
$main_program -f "$cmd_dir/random_input_graph.txt" -a all -o path1_output.txt || panic "main program failed"

echo "Running main program 2 - pre made grid"
$main_program -f "$cmd_dir/inputs/10x100.txt" -a all -o path2_output.txt || panic "main program failed"

echo "Running main program 3 - pre made grid"
$main_program -f "$cmd_dir/inputs/20x30.txt" -a all -o path3_output.txt || panic "main program failed"

echo "Running main program 4 - pre made grid"
$main_program -f "$cmd_dir/inputs/30x200.txt" -a all -o path4_output.txt || panic "main program failed"

echo "Running main program 5 - pre made grid"
$main_program -f "$cmd_dir/inputs/100x500.txt" -a all -o path5_output.txt || panic "main program failed"

echo "Note: you can modify the start and end nodes input file in ./inputs to your requirements"