#! /usr/bin/env bash

# Print an error message and exit.
panic()
{
	echo "ERROR: $@"
	exit 1
}

# Get the directory in which the currently running script is located.
cmd_dir=$(dirname "$0") || panic "cannot determine command directory"

main_program="$cmd_dir/main"
rand_program="$cmd_dir/random_graph_generator"

echo "Running random graph generator"
$rand_program "$cmd_dir/random_input_graph.txt" || panic "random graph generator program failed"

echo "Running main program 1 - user random generated input file"
$main_program -f "$cmd_dir/random_input_graph.txt" -a all -o path_output.txt || panic "main program failed"

echo "Running main program 2 - pre made grid"
echo "Note: you can modify the start and end nodes in the ./input/400x1400.txt file to your requirements"
$main_program -f "$cmd_dir/inputs/400x1400.txt" -a all -o path_output.txt || panic "main program failed"